!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Yj9t:function(t,o,a){"use strict";a.r(o),a.d(o,"AuthModule",(function(){return U}));var r=a("ofXK"),i=a("tyNb"),c=a("3Pt+"),u=a("YUcS"),s=a("qFsG"),b=a("bTqV"),f=a("kmnG"),l=a("Wp6s"),m=a("eAqi"),p=a("HC5s"),d=a("fXoL"),h=a("z1O9");function g(e,t){if(1&e){var n=d.Ub();d.Tb(0,"form",3),d.bc("ngSubmit",(function(){return d.tc(n),d.fc().signInUp()})),d.Tb(1,"mat-form-field",4),d.Ob(2,"input",5),d.Sb(),d.Tb(3,"mat-form-field",4),d.Ob(4,"input",6),d.Sb(),d.Tb(5,"button",7),d.Ec(6,"Auth "),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.kc("formGroup",o.form)}}function S(e,t){1&e&&(d.Tb(0,"p"),d.Ec(1,"You are logged in."),d.Sb())}var v,w=((v=function(){function t(n,o,a,r){e(this,t),this.router=n,this.fb=o,this.authService=a,this.alertsService=r,this.auth=new c.d}return n(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({email:["",[c.q.required,c.q.email]],password:["",c.q.required]})}},{key:"ngAfterViewInit",value:function(){m.a.loggedIn()&&this.router.navigate([Object(p.a)(location.href)||"/"]).then((function(){}))}},{key:"signInUp",value:function(){var e=this;this.authService.signInUp(this.form.value).subscribe((function(t){t.hasOwnProperty("access_token")?(e.authService._login(t),e.router.navigateByUrl(Object(p.a)(location.href)||"/").then((function(){})).catch(console.error)):e.alertsService.add("Unexpected: ".concat(JSON.stringify(t),";"))}))}}]),t}()).\u0275fac=function(e){return new(e||v)(d.Nb(i.b),d.Nb(c.c),d.Nb(m.a),d.Nb(h.a))},v.\u0275cmp=d.Hb({type:v,selectors:[["app-signinup"]],decls:7,vars:2,consts:[[1,"mat-h1"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"example-full-width","form-group"],["formControlName","email","id","email","matInput","","name","email","placeholder","Email","type","email"],["formControlName","password","id","password","matInput","","name","password","placeholder","Password","type","password"],["color","accent","mat-raised-button","","type","submit"]],template:function(e,t){1&e&&(d.Tb(0,"mat-card"),d.Tb(1,"mat-card-header"),d.Tb(2,"h1",0),d.Ec(3,"Sign in/up"),d.Sb(),d.Sb(),d.Tb(4,"mat-card-content"),d.Cc(5,g,7,1,"form",1),d.Cc(6,S,2,0,"p",2),d.Sb(),d.Sb()),2&e&&(d.Bb(5),d.kc("ngIf",!t.authService.loggedIn()),d.Bb(1),d.kc("ngIf",t.authService.loggedIn()))},directives:[l.a,l.c,l.b,r.m,c.r,c.m,c.g,f.b,c.b,s.b,c.l,c.e,b.b],styles:[""]}),v),y=a("XiUz");function k(e,t){if(1&e){var n=d.Ub();d.Tb(0,"form",3),d.bc("ngSubmit",(function(){return d.tc(n),d.fc().signup()})),d.Tb(1,"mat-form-field",4),d.Ob(2,"input",5),d.Sb(),d.Tb(3,"mat-form-field",4),d.Ob(4,"input",6),d.Sb(),d.Tb(5,"button",7),d.Ec(6,"Register "),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.kc("formGroup",o.form)}}function I(e,t){1&e&&(d.Tb(0,"p"),d.Ec(1,"You are logged in. "),d.Tb(2,"a",8),d.Ec(3,"Go to dashboard"),d.Sb(),d.Sb())}function T(e,t){if(1&e){var n=d.Ub();d.Tb(0,"form",3),d.bc("ngSubmit",(function(){return d.tc(n),d.fc().login()})),d.Tb(1,"mat-form-field",4),d.Ob(2,"input",5),d.Sb(),d.Tb(3,"mat-form-field",4),d.Ob(4,"input",6),d.Sb(),d.Tb(5,"button",7),d.Ec(6,"Sign in "),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.kc("formGroup",o.form)}}function N(e,t){1&e&&(d.Tb(0,"p"),d.Ec(1,"You are logged in. "),d.Tb(2,"a",8),d.Ec(3,"Go to dashboard"),d.Sb(),d.Sb())}var q,O,C,E,G=[{path:"",component:w},{path:"signup",component:(C=function(){function t(n,o,a,r){e(this,t),this.router=n,this.fb=o,this.authService=a,this.alertsService=r,this.auth=new c.d}return n(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({email:["",[c.q.required,c.q.email]],password:["",c.q.required]})}},{key:"signup",value:function(){var e=this;this.authService.register(this.form.value).subscribe((function(t){t.headers.has("x-access-token")?(e.authService.accessToken=t.headers.get("x-access-token"),localStorage.setItem("access-token",e.authService.accessToken),e.router.navigate(["/"]).then((function(){}))):e.alertsService.add("No access token in response")}))}}]),t}(),C.\u0275fac=function(e){return new(e||C)(d.Nb(i.b),d.Nb(c.c),d.Nb(m.a),d.Nb(h.a))},C.\u0275cmp=d.Hb({type:C,selectors:[["app-signup"]],decls:7,vars:2,consts:[[1,"mat-h1"],["fxLayout","column","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],["fxLayout","column","novalidate","",3,"formGroup","ngSubmit"],[1,"example-full-width","form-group"],["formControlName","email","id","email","matInput","","name","email","placeholder","Email","type","email"],["formControlName","password","id","password","matInput","","name","password","placeholder","Password","type","password"],["color","accent","mat-raised-button","","type","submit"],["routerLink","/"]],template:function(e,t){1&e&&(d.Tb(0,"mat-card"),d.Tb(1,"mat-card-header"),d.Tb(2,"h1",0),d.Ec(3,"Signup"),d.Sb(),d.Sb(),d.Tb(4,"mat-card-content"),d.Cc(5,k,7,1,"form",1),d.Cc(6,I,4,0,"p",2),d.Sb(),d.Sb()),2&e&&(d.Bb(5),d.kc("ngIf",!t.authService.loggedIn()),d.Bb(1),d.kc("ngIf",t.authService.loggedIn()))},directives:[l.a,l.c,l.b,r.m,c.r,c.m,y.d,c.g,f.b,c.b,s.b,c.l,c.e,b.b,i.e],styles:[""]}),C)},{path:"login",component:(O=function(){function t(n,o,a,r){e(this,t),this.router=n,this.fb=o,this.authService=a,this.alertsService=r,this.auth=new c.d}return n(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({email:["",[c.q.required,c.q.email]],password:["",c.q.required]})}},{key:"login",value:function(){var e=this;this.authService.login(this.form.value).subscribe((function(t){null!=t.access_token?(e.authService.accessToken=t.access_token,localStorage.setItem("access-token",e.authService.accessToken),e.router.navigate(["/"]).then((function(){}))):e.alertsService.add("No access token; try logging in again")}))}}]),t}(),O.\u0275fac=function(e){return new(e||O)(d.Nb(i.b),d.Nb(c.c),d.Nb(m.a),d.Nb(h.a))},O.\u0275cmp=d.Hb({type:O,selectors:[["app-login"]],decls:7,vars:2,consts:[[1,"mat-h1"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"example-full-width","form-group"],["formControlName","email","id","email","matInput","","name","email","placeholder","Email","type","email"],["formControlName","password","id","password","matInput","","name","password","placeholder","Password","type","password"],["color","accent","mat-raised-button","","type","submit"],["routerLink","/"]],template:function(e,t){1&e&&(d.Tb(0,"mat-card"),d.Tb(1,"mat-card-header"),d.Tb(2,"h1",0),d.Ec(3,"Login"),d.Sb(),d.Sb(),d.Tb(4,"mat-card-content"),d.Cc(5,T,7,1,"form",1),d.Cc(6,N,4,0,"p",2),d.Sb(),d.Sb()),2&e&&(d.Bb(5),d.kc("ngIf",!t.authService.loggedIn()),d.Bb(1),d.kc("ngIf",t.authService.loggedIn()))},directives:[l.a,l.c,l.b,r.m,c.r,c.m,c.g,f.b,c.b,s.b,c.l,c.e,b.b,i.e],styles:[""]}),O)},{path:"logout",component:(q=function(){function t(n){e(this,t),this.authService=n}return n(t,[{key:"ngOnInit",value:function(){this.authService.logout()}}]),t}(),q.\u0275fac=function(e){return new(e||q)(d.Nb(m.a))},q.\u0275cmp=d.Hb({type:q,selectors:[["app-logout"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),q)}],U=((E=function t(){e(this,t)}).\u0275mod=d.Lb({type:E}),E.\u0275inj=d.Kb({factory:function(e){return new(e||E)},providers:[m.a],imports:[[r.c,i.f,i.f.forChild(G),c.h,c.o,u.a,s.c,l.d,f.d,b.c]]}),E)}}])}();